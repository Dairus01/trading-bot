import{o as z,j as e,p as H,q as T,r as g,v as Ce,w as Y,x as Ae,y as Ee,l as B,t as N,i as J,L as W}from"./main-C8qZjRQu.js";import{f as Re,u as X,C as Z,a as ee,b as te,c as se,d as oe,H as _e}from"./index-BoVbgWN9.js";import{r as l}from"./react-C2nHe5Yl.js";import{F as re,a as F,b as C,c as A,d as E,e as R,s as ne,o as ae,f as _}from"./types-BIiNvKMe.js";import{u as ie}from"./hookForm-Bw-tNfmW.js";import{I as M}from"./input-CpfXR-lY.js";import{a as Me,u as Be}from"./transactionApi-DcV5QYmS.js";import"./reactRouter-DK1sZJce.js";import"./utility-DARsLm--.js";import"./solanaWalletAdapters-B1k2ZJdH.js";import"./cryptoLib-D3cA6VP7.js";var G="rovingFocusGroup.onEntryFocus",Pe={bubbles:!1,cancelable:!0},w="RovingFocusGroup",[O,ce,De]=Re(w),[Le,le]=z(w,[De]),[qe,Ge]=Le(w),ue=l.forwardRef((t,s)=>e.jsx(O.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(O.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Oe,{...t,ref:s})})}));ue.displayName=w;var Oe=l.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:u=!1,dir:d,currentTabStopId:r,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:n,onEntryFocus:x,preventScrollOnEntryFocus:i=!1,...m}=t,b=l.useRef(null),k=Ce(s,b),S=X(d),[I,f]=Y({prop:r,defaultProp:c??null,onChange:n,caller:w}),[v,D]=l.useState(!1),h=Ae(x),j=ce(a),L=l.useRef(!1),[ke,V]=l.useState(0);return l.useEffect(()=>{const p=b.current;if(p)return p.addEventListener(G,h),()=>p.removeEventListener(G,h)},[h]),e.jsx(qe,{scope:a,orientation:o,dir:S,loop:u,currentTabStopId:I,onItemFocus:l.useCallback(p=>f(p),[f]),onItemShiftTab:l.useCallback(()=>D(!0),[]),onFocusableItemAdd:l.useCallback(()=>V(p=>p+1),[]),onFocusableItemRemove:l.useCallback(()=>V(p=>p-1),[]),children:e.jsx(T.div,{tabIndex:v||ke===0?-1:0,"data-orientation":o,...m,ref:k,style:{outline:"none",...t.style},onMouseDown:g(t.onMouseDown,()=>{L.current=!0}),onFocus:g(t.onFocus,p=>{const Se=!L.current;if(p.target===p.currentTarget&&Se&&!v){const Q=new CustomEvent(G,Pe);if(p.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const q=j().filter(y=>y.focusable),Ie=q.find(y=>y.active),Ne=q.find(y=>y.id===I),Fe=[Ie,Ne,...q].filter(Boolean).map(y=>y.ref.current);fe(Fe,i)}}L.current=!1}),onBlur:g(t.onBlur,()=>D(!1))})})}),de="RovingFocusGroupItem",me=l.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:u=!1,tabStopId:d,children:r,...c}=t,n=H(),x=d||n,i=Ge(de,a),m=i.currentTabStopId===x,b=ce(a),{onFocusableItemAdd:k,onFocusableItemRemove:S,currentTabStopId:I}=i;return l.useEffect(()=>{if(o)return k(),()=>S()},[o,k,S]),e.jsx(O.ItemSlot,{scope:a,id:x,focusable:o,active:u,children:e.jsx(T.span,{tabIndex:m?0:-1,"data-orientation":i.orientation,...c,ref:s,onMouseDown:g(t.onMouseDown,f=>{o?i.onItemFocus(x):f.preventDefault()}),onFocus:g(t.onFocus,()=>i.onItemFocus(x)),onKeyDown:g(t.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){i.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const v=Qe(f,i.orientation,i.dir);if(v!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let h=b().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")h.reverse();else if(v==="prev"||v==="next"){v==="prev"&&h.reverse();const j=h.indexOf(f.currentTarget);h=i.loop?$e(h,j+1):h.slice(j+1)}setTimeout(()=>fe(h))}}),children:typeof r=="function"?r({isCurrentTabStop:m,hasTabStop:I!=null}):r})})});me.displayName=de;var Ke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ve(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Qe(t,s,a){const o=Ve(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Ke[o]}function fe(t,s=!1){const a=document.activeElement;for(const o of t)if(o===a||(o.focus({preventScroll:s}),document.activeElement!==a))return}function $e(t,s){return t.map((a,o)=>t[(s+o)%t.length])}var Ue=ue,ze=me,P="Tabs",[He,jt]=z(P,[le]),pe=le(),[Ye,K]=He(P),xe=l.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,onValueChange:u,defaultValue:d,orientation:r="horizontal",dir:c,activationMode:n="automatic",...x}=t,i=X(c),[m,b]=Y({prop:o,onChange:u,defaultProp:d??"",caller:P});return e.jsx(Ye,{scope:a,baseId:H(),value:m,onValueChange:b,orientation:r,dir:i,activationMode:n,children:e.jsx(T.div,{dir:i,"data-orientation":r,...x,ref:s})})});xe.displayName=P;var be="TabsList",he=l.forwardRef((t,s)=>{const{__scopeTabs:a,loop:o=!0,...u}=t,d=K(be,a),r=pe(a);return e.jsx(Ue,{asChild:!0,...r,orientation:d.orientation,dir:d.dir,loop:o,children:e.jsx(T.div,{role:"tablist","aria-orientation":d.orientation,...u,ref:s})})});he.displayName=be;var ge="TabsTrigger",ve=l.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,disabled:u=!1,...d}=t,r=K(ge,a),c=pe(a),n=Te(r.baseId,o),x=we(r.baseId,o),i=o===r.value;return e.jsx(ze,{asChild:!0,...c,focusable:!u,active:i,children:e.jsx(T.button,{type:"button",role:"tab","aria-selected":i,"aria-controls":x,"data-state":i?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:n,...d,ref:s,onMouseDown:g(t.onMouseDown,m=>{!u&&m.button===0&&m.ctrlKey===!1?r.onValueChange(o):m.preventDefault()}),onKeyDown:g(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&r.onValueChange(o)}),onFocus:g(t.onFocus,()=>{const m=r.activationMode!=="manual";!i&&!u&&m&&r.onValueChange(o)})})})});ve.displayName=ge;var je="TabsContent",ye=l.forwardRef((t,s)=>{const{__scopeTabs:a,value:o,forceMount:u,children:d,...r}=t,c=K(je,a),n=Te(c.baseId,o),x=we(c.baseId,o),i=o===c.value,m=l.useRef(i);return l.useEffect(()=>{const b=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(Ee,{present:u||i,children:({present:b})=>e.jsx(T.div,{"data-state":i?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":n,hidden:!b,id:x,tabIndex:0,...r,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:b&&d})})});ye.displayName=je;function Te(t,s){return`${t}-trigger-${s}`}function we(t,s){return`${t}-content-${s}`}var Je=xe,We=he,Xe=ve,Ze=ye;function et({className:t,...s}){return e.jsx(Je,{"data-slot":"tabs",className:B("flex flex-col gap-2",t),...s})}function tt({className:t,...s}){return e.jsx(We,{"data-slot":"tabs-list",className:B("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",t),...s})}function $({className:t,...s}){return e.jsx(Xe,{"data-slot":"tabs-trigger",className:B("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function U({className:t,...s}){return e.jsx(Ze,{"data-slot":"tabs-content",className:B("flex-1 outline-none",t),...s})}const st=ae({tokenAddress:_().min(1,"Token address is required"),amount:_().refine(t=>{const s=parseFloat(t);return!isNaN(s)&&s>0},{message:"Amount must be a valid number greater than 0"})}),ot=()=>{const[t,{isLoading:s,error:a}]=Me(),o=ie({resolver:ne(st),defaultValues:{tokenAddress:"",amount:""}}),u=l.useCallback(async r=>{var c;try{const n=await t(r).unwrap();console.log("response-->",n),N.success(n==null?void 0:n.message),o.reset()}catch(n){console.error("error-->",n),N.error(((c=n==null?void 0:n.data)==null?void 0:c.message)||"error")}},[t]),d=r=>{console.log("Submitted data:",r);const c={tokenAddress:r.tokenAddress,amountOfToken:r.amount};u(c)};return e.jsx(re,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-8",children:[e.jsx(F,{control:o.control,name:"tokenAddress",render:({field:r})=>e.jsxs(C,{className:"mt-4",children:[e.jsx(A,{className:"text-purple-600",children:"Token Address"}),e.jsx(E,{children:e.jsx(M,{...r,placeholder:"Enter token address...",className:"text-purple-600"})}),e.jsx(R,{})]})}),e.jsx(F,{control:o.control,name:"amount",render:({field:r})=>e.jsxs(C,{className:"mt-4",children:[e.jsx(A,{className:"text-purple-600",children:"Amount"}),e.jsx(E,{children:e.jsx(M,{...r,placeholder:"Enter token amount...",className:"text-purple-600"})}),e.jsx(R,{})]})}),e.jsx(J,{type:"submit",size:"lg",disabled:s,className:"text-purple-600 cursor-pointer",children:s?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"h-5 w-5 animate-spin"})," Confirming..."]}):"Confirm Sell"})]})})},rt=()=>e.jsxs(Z,{className:"min-w-[343px] w-[543px] max-w-full min-h-48 bg-white/10 backdrop:blur-3xl border-white/20 hover:shadow-2xl hover:shadow-purple-600/30 hover:border-purple-500/15 transition-all duration-200 ease-in",children:[e.jsxs(ee,{children:[e.jsx(te,{className:"text-purple-950 leading-1.5",children:"Quick Sell"}),e.jsx(se,{className:"text-gray-500",children:"Sell your tokens quickly and easily. Simply enter the token address and the amount you wish to sell."})]}),e.jsx(oe,{children:e.jsx(ot,{})})]}),nt=ae({tokenAddress:_().min(1,"Token address is required"),amount:_().refine(t=>{const s=parseFloat(t);return!isNaN(s)&&s>0},{message:"Amount must be a valid number greater than 0"})}),at=()=>{const[t,{isLoading:s,error:a}]=Be(),o=ie({resolver:ne(nt),defaultValues:{tokenAddress:"",amount:""}}),u=l.useCallback(async r=>{var c;try{const n=await t(r).unwrap();if(console.log("response-->",n),!n||n.success===!1||!n.data)throw new Error((n==null?void 0:n.message)||"Buy failed. Please try again.");N.success((n==null?void 0:n.message)||"Buy successful"),o.reset()}catch(n){console.error("error-->",n),N.error((n==null?void 0:n.message)||((c=n==null?void 0:n.data)==null?void 0:c.message)||"Buy failed. Please try again.")}},[t]),d=r=>{console.log("Submitted data:",r);const c={tokenAddress:r.tokenAddress,amountOfSol:r.amount};u(c)};return e.jsx(re,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-8",children:[e.jsx(F,{control:o.control,name:"tokenAddress",render:({field:r})=>e.jsxs(C,{className:"mt-4",children:[e.jsx(A,{className:"text-purple-600",children:"Token Address"}),e.jsx(E,{children:e.jsx(M,{...r,placeholder:"Enter token address...",className:"text-purple-600"})}),e.jsx(R,{})]})}),e.jsx(F,{control:o.control,name:"amount",render:({field:r})=>e.jsxs(C,{className:"mt-4",children:[e.jsx(A,{className:"text-purple-600",children:"Amount"}),e.jsx(E,{children:e.jsx(M,{...r,placeholder:"Enter SOL amount...",className:"text-purple-600"})}),e.jsx(R,{})]})}),e.jsx(J,{type:"submit",size:"lg",className:"text-purple-600 cursor-pointer",disabled:s,children:s?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"h-5 w-5 animate-spin"})," Confirming..."]}):"Confirm Buy"})]})})},it=()=>e.jsxs(Z,{className:"min-w-[343px] w-[543px] max-w-full min-h-48 bg-white/10 backdrop:blur-3xl border-white/20 hover:shadow-2xl hover:shadow-purple-600/30 hover:border-purple-500/15 transition-all duration-200 ease-in",children:[e.jsxs(ee,{children:[e.jsx(te,{className:"text-purple-950 leading-1.5",children:"Quick Buy"}),e.jsx(se,{className:"text-gray-500",children:"Purchase tokens quickly and easily. Simply enter the token address and the amount you wish to buy."})]}),e.jsx(oe,{children:e.jsx(at,{})})]}),yt=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full flex flex-col gap-y-10",children:[e.jsx(_e,{title:"Quick Buy/Sell"}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs(et,{defaultValue:"quickBuy",className:"w-full",children:[e.jsxs(tt,{className:"text-gray-600/50",children:[e.jsx($,{value:"quickBuy",className:"data-[state=active]:text-purple-600",children:"Quick Buy"}),e.jsx($,{value:"quickSell",className:"data-[state=active]:text-purple-600",children:"Quick Sell"})]}),e.jsx(U,{value:"quickBuy",children:e.jsx(it,{})}),e.jsx(U,{value:"quickSell",children:e.jsx(rt,{})})]})})]})});export{yt as default};
